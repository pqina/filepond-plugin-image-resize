/*
 * FilePondPluginImageResize 2.0.2
 * Licensed under MIT, https://opensource.org/licenses/MIT
 * Please visit https://pqina.nl/filepond for details.
 */

/* eslint-disable */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.FilePondPluginImageResize=t()}(this,function(){"use strict";var e=function(e){var t=e.addFilter,i=e.utils.Type;return t("DID_LOAD_ITEM",function(c,e){var I=e.query;return new Promise(function(a,e){var t=c.file;if(!/^image/.test(t.type)||!I("GET_ALLOW_IMAGE_RESIZE"))return a(c);var o=I("GET_IMAGE_RESIZE_MODE"),i=I("GET_IMAGE_RESIZE_TARGET_WIDTH"),n=I("GET_IMAGE_RESIZE_TARGET_HEIGHT"),r=I("GET_IMAGE_RESIZE_UPSCALE");if(null===i&&null===n)return a(c);var u,d,l,E=null===i?n:i,s=null===n?E:n,f=URL.createObjectURL(t);u=f,d=function(e,t){URL.revokeObjectURL(f);var i=(c.getMetadata("exif")||{}).orientation||-1;if(5<=i&&i<=8){var n=[t,e];e=n[0],t=n[1]}return e===E&&t===s?a(c):e<=E&&t<=s&&!r?a(c):(c.setMetadata("resize",{mode:o,upscale:r,size:{width:E,height:s}}),void a(c))},(l=new Image).onload=function(){var e=l.naturalWidth,t=l.naturalHeight;l=null,d(e,t)},l.src=u})}),{options:{allowImageResize:[!0,i.BOOLEAN],imageResizeMode:["cover",i.STRING],imageResizeUpscale:[!0,i.BOOLEAN],imageResizeTargetWidth:[null,i.INT],imageResizeTargetHeight:[null,i.INT]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:e})),e});